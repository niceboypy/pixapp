#:kivy 1.10.0

<Apibar>:
    api_input_bar: api_input
    toggle_visibility_button : toggle_visibility
    
    BoxLayout:
        orientation:"vertical"
        padding: "5dp"
         
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.5
                    
            Label:
                text: "Api-key: "
                font_size: "30dp"
                size_hint_x: 0.7
                
            Flexible_Input:
                id: api_input
                padding_x: "50dp"
                hint_text: "Your API key"
                hint_text_color: [1, 0, 0, 0.2]
                password: True
                allow_copy: False
                on_text_validate: root.store_api_key(self.text)
            
            Common_button:
                size_hint_x: 0.27
                text: "Clear"
                background_normal: "button.png"
                on_press: root.clear()
                on_release: api_input.focus=True

            ToggleButton:
                id: toggle_visibility
                size_hint_x: 0.27
                text: "Hide"
                background_normal: "button.png"
                background_down: "button_dep.png"
                on_press: root.toggle_visibility()
                on_release: api_input.focus = True
            
            Common_button:
                id: save_key
                text:"Save key"
                size_hint_x: 0.4
                on_release: api_input.focus=True
                


<Search_type_panel>:
    image_optn: image
    video_optn: video
    both_optn: both
    editor_optn: editor_choice

    BoxLayout:
        padding: "10dp"
        orientation: 'vertical'
        BoxLayout:
            orientation: 'horizontal'
            CheckBox:
                id: image
                active: True
                group: 'search_type'
            Label:
                id: img_lab
                text: "[ref=image]image[/ref]"
                size_hint_x: "10"
                markup: True
                # on_ref_press: root.setstatus(image)

            CheckBox:
                id: video
                active: False
                group: 'search_type'
            Label:
                id: vid_lab
                text: "[ref=video]video[/ref]"
                size_hint_x: "10"
                markup: True
                # on_ref_press: root.setstatus(video)
            CheckBox:
                id: both
                active: False
                group: 'search_type'
            Label:
                id: both_lab
                text: "[ref=both]both[/ref]"
                markup: True
                size_hint_x: "10"
                # on_ref_press: root.setstatus(both)

            Label:
                #maintains size
                size_hint_x: "80"
            
            CheckBox:
                id: editor_choice
                active: False
            Label:
                text:"[ref='editor']Editor's choice[/ref]"
                markup:True
                size_hint_x: "20"
                on_ref_press: root.setstatus(editor_choice)